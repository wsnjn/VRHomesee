# HomeSee - 基于AI大模型与3D虚拟客服的智能全景看房系统

## 📖 项目概述

HomeSee是一个集成了AI大模型、3D虚拟客服、VR全景看房和智能匹配技术的现代化房屋租赁平台。系统采用微服务架构，提供租客端、房东端和管理员端三个独立的用户界面，通过先进的AI技术为用户提供智能化的房屋租赁体验。

### 🎯 核心特色

- **AI智能助手**：集成DeepSeek大模型，提供智能房屋推荐和自然语言对话
- **3D虚拟客服**：基于Three.js的3D机器人模型，支持语音交互和实时对话
- **VR全景看房**：沉浸式360度房屋浏览体验
- **智能匹配算法**：基于用户偏好和房源特征的精准匹配
- **多角色权限管理**：完善的租客、房东、管理员三级权限体系
- **社区互动功能**：租客社交平台和社区管理

## 🏗️ 系统架构

### 技术栈

#### 后端技术栈
- **框架**：Spring Boot 3.x
- **数据库**：MySQL 8.0 + Hibernate ORM
- **安全**：Spring Security + JWT Token
- **API文档**：SpringDoc OpenAPI 3.0
- **构建工具**：Maven 3.8+

#### 前端技术栈
- **框架**：Vue 3 + Composition API
- **路由**：Vue Router 4
- **状态管理**：Pinia
- **3D渲染**：Three.js + GLTF模型加载
- **UI组件**：原生CSS + 自定义组件
- **构建工具**：Vite 4.x

### 系统架构图

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   租客端        │    │   房东端        │    │   管理员端      │
│   Vue3 SPA      │    │   Vue3 SPA      │    │   Vue3 SPA      │
└─────────────────┘    └─────────────────┘    └─────────────────┘
         │                       │                       │
         └───────────────────────────────────────────────┘
                                │
                    ┌─────────────────────────┐
                    │   API Gateway           │
                    │   Spring Boot           │
                    └─────────────────────────┘
                                │
         ┌─────────────────────────────────────────────┐
         │                     │                       │
┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐
│   业务服务层     │  │   AI服务层      │  │   数据访问层     │
│   Service Layer │  │   AI Services   │  │   Repository    │
└─────────────────┘  └─────────────────┘  └─────────────────┘
                                │
                    ┌─────────────────────────┐
                    │   数据库层              │
                    │   MySQL 8.0            │
                    └─────────────────────────┘
```

## 📊 数据库设计

### 核心数据表结构

#### 用户管理模块
- **user**：用户基础信息表
  - 用户类型（租客1/房东2/管理员3）
  - 实名认证状态
  - 信用评分体系
  - 租赁预算范围
  - 偏好区域设置

#### 房源管理模块
- **room_info**：房源详细信息表
  - 地理位置信息（省市区街道小区）
  - 房屋基本信息（面积、楼层、朝向）
  - 租赁信息（价格、租赁类型）
  - 设施配置（电梯、装修情况）
  - 状态管理（0-可用，1-已租）

#### 预约看房模块
- **viewing_appointment**：看房预约表
  - 预约时间管理
  - 状态流转（待确认/已确认/已完成/已取消）
  - 跟进记录
  - 租客意向管理

#### 智能客服模块
- **chat_history**：聊天记录表
  - 用户对话历史
  - 角色区分（user/assistant）
  - 时间戳记录
  - 上下文关联

#### 社区互动模块
- **social_post**：社区帖子表
- **social_comment**：评论表
- **social_like**：点赞表
- **friendship**：好友关系表
- **chat_group**：聊天群组表

#### 维修管理模块
- **maintenance_request**：维修请求表
  - 维修类型分类
  - 紧急程度分级
  - 处理状态跟踪
  - 费用记录

## 👥 用户端功能模块

### 1. 首页仪表板
- **智能推荐**：基于用户偏好和历史行为的房源推荐
- **快速搜索**：地理位置、价格区间、房屋类型等多维度筛选
- **数据统计**：个人看房记录、收藏房源、预约次数统计
- **消息通知**：系统通知、预约提醒、社区互动提醒

### 2. 房源浏览与筛选
- **地图找房**：基于GeoJSON的地理位置可视化
- **高级筛选**：
  - 价格范围：1000-10000+元/月
  - 面积区间：20-200+平方米
  - 房屋类型：整租/合租/公寓
  - 设施要求：电梯、独立卫浴、阳台等
  - 装修程度：精装/简装/毛坯

### 3. VR全景看房
- **360度浏览**：基于Three.js的沉浸式房屋浏览
- **场景切换**：客厅、卧室、厨房、卫生间多场景切换
- **细节展示**：房屋装修细节、家具配置、采光效果
- **交互操作**：缩放、旋转、平移等交互控制

### 4. 智能匹配系统
- **AI对话助手**：基于DeepSeek大模型的自然语言交互
- **个性化推荐**：
  - 预算匹配：根据用户设置的租金范围
  - 位置偏好：基于用户选择的区域偏好
  - 需求分析：通过对话理解用户的深层需求
- **历史记录**：保存对话历史，提供连续性服务

### 5. 预约看房管理
- **在线预约**：选择日期、时间段、看房人数
- **预约状态**：待确认、已确认、已完成、已取消
- **提醒服务**：预约前提醒、变更通知
- **评价反馈**：看房体验评价和反馈

### 6. 个人中心
- **个人信息**：基本信息管理、实名认证
- **偏好设置**：租赁预算、区域偏好、房屋要求
- **我的收藏**：收藏房源管理
- **浏览历史**：房源浏览记录
- **信用体系**：信用评分和租赁记录

### 7. 维修服务
- **在线报修**：选择维修类型、描述问题、上传图片
- **进度跟踪**：维修申请状态实时更新
- **费用管理**：维修费用记录和支付
- **评价反馈**：维修服务评价

### 8. 社区互动
- **朋友圈**：租客社交平台，分享生活动态
- **群组聊天**：基于小区的群组聊天功能
- **活动组织**：社区活动发布和参与
- **经验分享**：租房经验、装修心得分享

## 🏠 房东端功能模块

### 1. 房源管理
- **房源发布**：完整的房源信息录入系统
  - 基础信息：位置、面积、楼层、朝向
  - 租赁信息：价格、押金、付款方式
  - 设施配置：家具家电、网络、停车位
  - 图片上传：房屋实景照片、户型图
- **房源编辑**：信息更新、状态修改
- **批量操作**：多房源同时上架/下架

### 2. 租客管理
- **租客信息**：租客基本信息查看
- **租赁合同**：电子合同管理、续约提醒
- **租金管理**：租金收取记录、逾期提醒
- **沟通记录**：与租客的沟通历史

### 3. 预约管理
- **预约审核**：查看和确认租客的看房预约
- **时间安排**：设置可预约时间段
- **状态更新**：预约状态实时更新
- **数据统计**：预约成功率、看房转化率

### 4. 数据统计
- **房源数据**：房源浏览量、收藏量、咨询量
- **租赁数据**：出租率、空置期、租金收入
- **市场分析**：同区域房源价格对比
- **绩效评估**：房源管理效率评估

## 🔧 管理员端功能模块

### 1. 系统管理
- **用户管理**：用户信息审核、权限分配、状态管理
- **角色权限**：细粒度的权限控制系统
- **系统配置**：平台参数设置、功能开关
- **日志管理**：操作日志、异常日志监控

### 2. 房源审核
- **审核流程**：新发布房源审核、信息真实性验证
- **质量把控**：房源信息完整性、图片质量检查
- **违规处理**：违规房源下架、房东处罚
- **数据统计**：审核通过率、违规类型分析

### 3. 租客匹配管理
- **匹配算法**：智能匹配规则配置和优化
- **数据监控**：匹配成功率、用户满意度
- **人工干预**：特殊情况的人工匹配
- **效果评估**：匹配算法效果评估和调整

### 4. 社区管理
- **内容审核**：社区帖子、评论内容审核
- **违规处理**：违规内容删除、用户禁言
- **社区运营**：活动组织、话题引导
- **数据分析**：社区活跃度、用户参与度

### 5. 数据报表
- **业务数据**：注册用户数、房源数量、成交数据
- **财务数据**：平台收入、佣金统计
- **用户行为**：用户活跃度、功能使用频率
- **系统性能**：API响应时间、服务器负载

## 🤖 AI智能功能

### 1. 智能客服系统
- **语音交互**：基于Web Speech API的语音识别和合成
- **自然语言处理**：DeepSeek大模型的中文理解能力
- **上下文记忆**：对话历史记录和上下文关联
- **多轮对话**：复杂的多轮对话场景处理

### 2. 智能匹配算法
- **特征提取**：用户偏好特征和房源特征提取
- **相似度计算**：基于余弦相似度的匹配计算
- **实时推荐**：基于用户行为的实时推荐更新
- **冷启动处理**：新用户的智能推荐策略

### 3. 3D虚拟客服
- **模型渲染**：基于Three.js的3D机器人模型渲染
- **动画效果**：说话动画、待机动画、交互反馈
- **位置固定**：右下角固定位置，不影响主界面操作
- **响应式设计**：适配不同屏幕尺寸

## 🎨 界面设计与用户体验

### 设计原则
- **简洁直观**：信息层级清晰，操作路径明确
- **一致性**：统一的视觉风格和交互模式
- **响应式**：适配PC端和移动端不同设备
- **可访问性**：考虑色盲用户、键盘操作等特殊需求

### 交互特色
- **微交互**：按钮点击效果、页面切换动画
- **实时反馈**：操作即时反馈，减少用户等待
- **引导提示**：新功能引导、操作提示
- **错误处理**：友好的错误提示和解决方案

## 🔒 安全与权限

### 身份认证
- **JWT Token**：无状态的身份认证机制
- **权限验证**：接口级别的权限控制
- **会话管理**：安全的会话管理和超时处理

### 数据安全
- **SQL注入防护**：参数化查询和ORM防护
- **XSS防护**：输入输出过滤和转义
- **CSRF防护**：Token验证和同源策略
- **数据加密**：敏感数据加密存储

### 隐私保护
- **数据脱敏**：个人敏感信息脱敏显示
- **权限控制**：最小权限原则
- **日志审计**：操作日志记录和审计

## 🚀 部署与运维

### 环境要求
- **Java**：JDK 17+
- **Node.js**：16.x+
- **MySQL**：8.0+
- **内存**：最低4GB，推荐8GB

### 部署步骤
1. **数据库初始化**：执行SQL脚本创建数据库和表结构
2. **后端部署**：
   ```bash
   cd Springboot
   mvn clean package
   java -jar target/homesee-0.0.1-SNAPSHOT.jar
   ```
3. **前端部署**：
   ```bash
   cd Vue3/frontend
   npm install
   npm run dev  # 开发环境
   npm run build  # 生产环境
   ```

### 配置文件
- **application.properties**：数据库连接、服务器端口、AI API配置
- **vite.config.js**：前端构建配置、代理设置
- **路由配置**：页面路由、权限控制配置

## 📈 性能优化

### 前端优化
- **代码分割**：路由级别的懒加载
- **图片优化**：WebP格式、懒加载
- **缓存策略**：静态资源缓存、API响应缓存
- **打包优化**：Tree Shaking、代码压缩

### 后端优化
- **数据库索引**：关键字段索引优化
- **连接池**：HikariCP连接池配置
- **缓存机制**：Redis缓存热点数据
- **异步处理**：耗时操作的异步处理

## 🔮 未来规划

### 短期规划
- [ ] 移动端APP开发
- [ ] 微信小程序版本
- [ ] 更多的AI功能集成
- [ ] 支付系统集成

### 长期规划
- [ ] 区块链租房合约
- [ ] AR虚拟看房
- [ ] 智能家居集成
- [ ] 国际化版本

## 🤝 贡献指南

欢迎各种形式的贡献，包括但不限于：
- 代码改进和功能开发
- 文档完善和翻译
- Bug报告和修复
- 新功能建议

### 开发流程
1. Fork本项目
2. 创建功能分支
3. 提交代码变更
4. 创建Pull Request


**HomeSee - 让租房更智能，让生活更美好**

---

# 🔮 未来愿景与可行性分析报告：从“贾维斯”到现实落地

## 1. 引言：关于“全息交互”的终极设想
在与网友的交流中，我探讨了一个极具科幻色彩的设想：能否将钢铁侠电影中的“贾维斯（Jarvis）”系统引入房屋租赁领域？

**核心场景描述**：
用户不再通过鼠标点击屏幕，而是站在摄像头前，通过手势（挥手、捏合、拉伸）在空中操控 3D 房屋模型。配合语音指令（“贾维斯，把客厅放大”），系统即时响应，粒子特效随手势流动，呈现出一种极具未来感和沉浸感的看房体验。

## 2. 技术可行性分析：离“贾维斯”有多远？

### 2.1 技术三剑客
实现这一设想的理论技术栈已经存在：
1. **视觉捕捉（眼睛）**：利用 MediaPipe 或 TensorFlow.js，在浏览器端实时识别手部 21 个关键点，精准捕捉捏合、挥手等动作。
2. **3D 渲染（身体）**：利用 WebGL (Three.js) 将手势坐标映射到 3D 空间，控制粒子系统的聚散与模型的旋转缩放。
3. **大模型交互（大脑）**：接入 LLM (如 Gemini/GPT/DeepSeek) 与 Web Speech API，实现自然语言意图识别与语音反馈。

### 2.2 现实的鸿沟：粒子化的困境
虽然技术栈完备，但从“模型”到“粒子特效”的转化存在巨大挑战：
- **建模与粒子化的矛盾**：AI 目前擅长生成图像（像素）或文本，但难以直接生成结构精准、定位合理的 3D 粒子集合。
- **“匠气”的缺失**：像“像素恐龙”这种精细的艺术品，需要人工逐点雕琢。AI 生成的粒子模型往往缺乏这种精准度和设计感，容易显得粗糙或“很丑”。
- **结论**：在当前阶段，完全依赖 AI 自动生成高质量的定制化粒子特效（如特定的房屋结构）尚不成熟，人工介入成本过高。

## 3. 行业痛点：VR 看房的理想与现实

### 3.1 理想中的漫游
理想中的 VR 看房是 **6DoF（六自由度）** 的自由漫游：用户可以在房间里随意走动，查看任何死角，甚至与家具互动。

### 3.2 现实中的妥协
目前的商业落地主要依赖 **3DoF（三自由度）** 的全景图切换：
- **成本壁垒**：专业 3D 建模或激光雷达扫描（Matterport）成本高昂（数千至数万元），普通房东无法承担。
- **操作门槛**：使用手机（如谷歌相机）拍摄全景图容易出现拼接缝隙、光线不均等瑕疵。
- **结果**：大多数平台只能提供“全景图 + 热点跳转”的伪漫游体验，而非真正的 3D 空间漫游。

## 4. 未来的破局点：AI 带来的新机遇

### 4.1 NeRF 与 3D Gaussian Splatting (3DGS)
AI 技术正在打破“建模难”的僵局：
- **原理**：无需专业设备，仅需用手机围着房间拍摄一段视频，AI 即可自动计算出空间的 3D 结构。
- **3DGS 优势**：
    - **照片级真实感**：完美复现光影、反射（如镜子、地毯质感）。
    - **低成本**：人人都有手机，零成本采集数据。
    - **真·漫游**：生成的场景支持真正的自由视角移动，而非定点跳转。
- **挑战**：目前文件体积较大，对网页端渲染性能有一定要求，但 WebGPU 的普及将解决这一问题。

### 4.2 本项目的策略
针对本项目（Homesee）作为毕业设计及未来产品的定位，采取以下策略：
1. **技术前瞻性**：重点展示 3DGS 技术对行业的颠覆性意义，展示项目的技术视野。
2. **体验优化**：在现有的全景图模式下，增加“推拉”过渡动画，利用后端算法优化加载速度，打造极致的 Web 端体验。
3. **AI 辅助**：利用 AI 自动修复全景图瑕疵（拼接缝、曝光）的解决方案。

## 5. 资源与落地：如何迈出第一步

### 5.1 解决“无米之炊”
为了演示高质量的 VR 效果，无需强求房东上传，可利用开源资源先行搭建 Demo：
- **Poly Haven**：提供 CC0 许可的 4K/8K 高清室内全景图（HDR），适合作为样板间展示。
- **Flickr (Creative Commons)**：筛选允许商用的全景摄影作品。

### 5.2 总结
Homesee 项目虽然始于一个“过于理想”的设想，但通过 **“全景图为基础 + AI 技术为展望 + 极致 Web 体验为核心”** 的务实路线，完全具备落地可行性。它不仅是一个毕业设计，更是对未来房屋租赁形态的一次有意义的探索。
